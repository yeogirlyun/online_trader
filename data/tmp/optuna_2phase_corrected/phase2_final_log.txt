[I 2025-10-08 19:06:09,983] A new study created in memory with name: no-name-61fa12e7-dffe-4c47-8fe9-e05b85e64fef
================================================================================
PHASE 2: ROBUSTNESS TEST ON 20 BLOCKS
================================================================================
Using Phase 1 best params (from recent 4 blocks)
Phase 1 MRB (4 blocks): 0.22%

Fixed Phase 1 parameters:
  buy_threshold: 0.55
  sell_threshold: 0.43
  ewrls_lambda: 0.992
  bb_amplification_factor: 0.08

Optimizing Phase 2 parameters on 20 blocks:
  - Horizon weights (h1, h5, h10)
  - BB parameters (period, std_dev, proximity)
  - Regularization
================================================================================

[AdaptiveOptuna] Loaded 9600 bars
[AdaptiveOptuna] Total blocks: 24
[AdaptiveOptuna] Bars per block: 390
[AdaptiveOptuna] Optuna trials: 100
[AdaptiveOptuna] Parallel jobs: 4
[FeatureCache] Feature caching DISABLED
[Phase 2] Running 100 trials on 20 blocks...

[Tuning] PHASE 2 (micro-tuning) - Blocks 0-19 (100 trials)
[Phase2] Center params: buy=0.550, sell=0.430, λ=0.9920, BB=0.080
[BlockData] Created data/tmp/optuna_2phase_corrected/train_blocks_0_20_SPY.csv: blocks 0-19 (7800 bars)
[Optuna] Running 100 trials with 4 parallel jobs
  0%|          | 0/100 [00:00<?, ?it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                         0%|          | 0/100 [00:04<?, ?it/s]Best trial: 2. Best value: -0.0331:   0%|          | 0/100 [00:04<?, ?it/s]Best trial: 2. Best value: -0.0331:   1%|          | 1/100 [00:04<06:50,  4.15s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                   Best trial: 2. Best value: -0.0331:   1%|          | 1/100 [00:04<06:50,  4.15s/it]Best trial: 2. Best value: -0.0331:   1%|          | 1/100 [00:04<06:50,  4.15s/it]                                                                                   Best trial: 2. Best value: -0.0331:   2%|▏         | 2/100 [00:04<06:46,  4.15s/it]Best trial: 2. Best value: -0.0331:   2%|▏         | 2/100 [00:04<06:46,  4.15s/it]                                                                                   Best trial: 2. Best value: -0.0331:   3%|▎         | 3/100 [00:04<06:42,  4.15s/it]Best trial: 2. Best value: -0.0331:   3%|▎         | 3/100 [00:04<06:42,  4.15s/it]                                                                                   Best trial: 2. Best value: -0.0331:   4%|▍         | 4/100 [00:04<06:38,  4.15s/it]Best trial: 2. Best value: -0.0331:   4%|▍         | 4/100 [00:04<06:38,  4.15s/it]                                                                                   Best trial: 2. Best value: -0.0331:   5%|▌         | 5/100 [00:08<06:34,  4.15s/it]Best trial: 4. Best value: -0.0187:   5%|▌         | 5/100 [00:08<06:34,  4.15s/it]Best trial: 4. Best value: -0.0187:   6%|▌         | 6/100 [00:08<01:56,  1.24s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                   Best trial: 4. Best value: -0.0187:   6%|▌         | 6/100 [00:08<01:56,  1.24s/it]Best trial: 4. Best value: -0.0187:   6%|▌         | 6/100 [00:08<01:56,  1.24s/it]                                                                                   Best trial: 4. Best value: -0.0187:   7%|▋         | 7/100 [00:08<01:55,  1.24s/it]Best trial: 4. Best value: -0.0187:   7%|▋         | 7/100 [00:08<01:55,  1.24s/it]                                                                                   Best trial: 4. Best value: -0.0187:   8%|▊         | 8/100 [00:08<01:53,  1.24s/it]Best trial: 4. Best value: -0.0187:   8%|▊         | 8/100 [00:08<01:53,  1.24s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                   Best trial: 4. Best value: -0.0187:   9%|▉         | 9/100 [00:08<01:52,  1.24s/it]Best trial: 4. Best value: -0.0187:   9%|▉         | 9/100 [00:08<01:52,  1.24s/it]                                                                                   Best trial: 4. Best value: -0.0187:  10%|█         | 10/100 [00:12<01:51,  1.24s/it]Best trial: 4. Best value: -0.0187:  10%|█         | 10/100 [00:12<01:51,  1.24s/it]Best trial: 4. Best value: -0.0187:  11%|█         | 11/100 [00:12<01:30,  1.02s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 4. Best value: -0.0187:  11%|█         | 11/100 [00:12<01:30,  1.02s/it]Best trial: 4. Best value: -0.0187:  11%|█         | 11/100 [00:12<01:30,  1.02s/it]                                                                                    Best trial: 4. Best value: -0.0187:  12%|█▏        | 12/100 [00:12<01:29,  1.02s/it]Best trial: 4. Best value: -0.0187:  12%|█▏        | 12/100 [00:12<01:29,  1.02s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 4. Best value: -0.0187:  13%|█▎        | 13/100 [00:12<01:28,  1.02s/it]Best trial: 4. Best value: -0.0187:  13%|█▎        | 13/100 [00:12<01:28,  1.02s/it]                                                                                    Best trial: 4. Best value: -0.0187:  14%|█▍        | 14/100 [00:16<01:27,  1.02s/it]Best trial: 14. Best value: -0.0014:  14%|█▍        | 14/100 [00:16<01:27,  1.02s/it]Best trial: 14. Best value: -0.0014:  15%|█▌        | 15/100 [00:16<01:26,  1.02s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                     Best trial: 14. Best value: -0.0014:  15%|█▌        | 15/100 [00:16<01:26,  1.02s/it]Best trial: 15. Best value: 0:  15%|█▌        | 15/100 [00:16<01:26,  1.02s/it]      /Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                               Best trial: 15. Best value: 0:  16%|█▌        | 16/100 [00:16<01:25,  1.02s/it]Best trial: 17. Best value: 0.0519:  16%|█▌        | 16/100 [00:16<01:25,  1.02s/it]Best trial: 17. Best value: 0.0519:  17%|█▋        | 17/100 [00:16<01:07,  1.24it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 17. Best value: 0.0519:  17%|█▋        | 17/100 [00:16<01:07,  1.24it/s]Best trial: 17. Best value: 0.0519:  17%|█▋        | 17/100 [00:16<01:07,  1.24it/s]                                                                                    Best trial: 17. Best value: 0.0519:  18%|█▊        | 18/100 [00:20<01:06,  1.24it/s]Best trial: 17. Best value: 0.0519:  18%|█▊        | 18/100 [00:20<01:06,  1.24it/s]Best trial: 17. Best value: 0.0519:  19%|█▉        | 19/100 [00:20<01:28,  1.10s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 17. Best value: 0.0519:  19%|█▉        | 19/100 [00:20<01:28,  1.10s/it]Best trial: 17. Best value: 0.0519:  19%|█▉        | 19/100 [00:20<01:28,  1.10s/it]                                                                                    Best trial: 17. Best value: 0.0519:  20%|██        | 20/100 [00:20<01:27,  1.10s/it]Best trial: 17. Best value: 0.0519:  20%|██        | 20/100 [00:20<01:27,  1.10s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 17. Best value: 0.0519:  21%|██        | 21/100 [00:20<01:26,  1.10s/it]Best trial: 17. Best value: 0.0519:  21%|██        | 21/100 [00:20<01:26,  1.10s/it]Best trial: 17. Best value: 0.0519:  22%|██▏       | 22/100 [00:20<00:58,  1.34it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 17. Best value: 0.0519:  22%|██▏       | 22/100 [00:24<00:58,  1.34it/s]Best trial: 17. Best value: 0.0519:  22%|██▏       | 22/100 [00:24<00:58,  1.34it/s]Best trial: 17. Best value: 0.0519:  23%|██▎       | 23/100 [00:24<01:31,  1.19s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 17. Best value: 0.0519:  23%|██▎       | 23/100 [00:25<01:31,  1.19s/it]Best trial: 17. Best value: 0.0519:  23%|██▎       | 23/100 [00:25<01:31,  1.19s/it]Best trial: 17. Best value: 0.0519:  24%|██▍       | 24/100 [00:25<01:17,  1.01s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 17. Best value: 0.0519:  24%|██▍       | 24/100 [00:25<01:17,  1.01s/it]Best trial: 17. Best value: 0.0519:  24%|██▍       | 24/100 [00:25<01:17,  1.01s/it]                                                                                    Best trial: 17. Best value: 0.0519:  25%|██▌       | 25/100 [00:25<01:16,  1.01s/it]Best trial: 17. Best value: 0.0519:  25%|██▌       | 25/100 [00:25<01:16,  1.01s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 17. Best value: 0.0519:  26%|██▌       | 26/100 [00:29<01:15,  1.01s/it]Best trial: 17. Best value: 0.0519:  26%|██▌       | 26/100 [00:29<01:15,  1.01s/it]Best trial: 17. Best value: 0.0519:  27%|██▋       | 27/100 [00:29<01:24,  1.16s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 17. Best value: 0.0519:  27%|██▋       | 27/100 [00:29<01:24,  1.16s/it]Best trial: 17. Best value: 0.0519:  27%|██▋       | 27/100 [00:29<01:24,  1.16s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 17. Best value: 0.0519:  28%|██▊       | 28/100 [00:29<01:23,  1.16s/it]Best trial: 17. Best value: 0.0519:  28%|██▊       | 28/100 [00:29<01:23,  1.16s/it]Best trial: 17. Best value: 0.0519:  29%|██▉       | 29/100 [00:29<01:00,  1.18it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 17. Best value: 0.0519:  29%|██▉       | 29/100 [00:29<01:00,  1.18it/s]Best trial: 29. Best value: 0.0646:  29%|██▉       | 29/100 [00:29<01:00,  1.18it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 29. Best value: 0.0646:  30%|███       | 30/100 [00:33<00:59,  1.18it/s]Best trial: 29. Best value: 0.0646:  30%|███       | 30/100 [00:33<00:59,  1.18it/s]Best trial: 29. Best value: 0.0646:  31%|███       | 31/100 [00:33<01:21,  1.18s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 29. Best value: 0.0646:  31%|███       | 31/100 [00:33<01:21,  1.18s/it]Best trial: 31. Best value: 0.1039:  31%|███       | 31/100 [00:33<01:21,  1.18s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  32%|███▏      | 32/100 [00:33<01:19,  1.18s/it]Best trial: 31. Best value: 0.1039:  32%|███▏      | 32/100 [00:33<01:19,  1.18s/it]Best trial: 31. Best value: 0.1039:  33%|███▎      | 33/100 [00:33<00:57,  1.16it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  33%|███▎      | 33/100 [00:33<00:57,  1.16it/s]Best trial: 31. Best value: 0.1039:  33%|███▎      | 33/100 [00:33<00:57,  1.16it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  34%|███▍      | 34/100 [00:37<00:56,  1.16it/s]Best trial: 31. Best value: 0.1039:  34%|███▍      | 34/100 [00:37<00:56,  1.16it/s]Best trial: 31. Best value: 0.1039:  35%|███▌      | 35/100 [00:37<01:18,  1.20s/it]                                                                                    Best trial: 31. Best value: 0.1039:  35%|███▌      | 35/100 [00:37<01:18,  1.20s/it]Best trial: 31. Best value: 0.1039:  35%|███▌      | 35/100 [00:37<01:18,  1.20s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  36%|███▌      | 36/100 [00:37<01:17,  1.20s/it]Best trial: 31. Best value: 0.1039:  36%|███▌      | 36/100 [00:37<01:17,  1.20s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  37%|███▋      | 37/100 [00:37<01:15,  1.20s/it]Best trial: 31. Best value: 0.1039:  37%|███▋      | 37/100 [00:37<01:15,  1.20s/it]Best trial: 31. Best value: 0.1039:  38%|███▊      | 38/100 [00:37<00:47,  1.31it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  38%|███▊      | 38/100 [00:37<00:47,  1.31it/s]Best trial: 31. Best value: 0.1039:  38%|███▊      | 38/100 [00:37<00:47,  1.31it/s]Best trial: 31. Best value: 0.1039:  39%|███▉      | 39/100 [00:37<00:40,  1.51it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  39%|███▉      | 39/100 [00:41<00:40,  1.51it/s]Best trial: 31. Best value: 0.1039:  39%|███▉      | 39/100 [00:41<00:40,  1.51it/s]Best trial: 31. Best value: 0.1039:  40%|████      | 40/100 [00:41<01:14,  1.25s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  40%|████      | 40/100 [00:41<01:14,  1.25s/it]Best trial: 31. Best value: 0.1039:  40%|████      | 40/100 [00:41<01:14,  1.25s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  41%|████      | 41/100 [00:41<01:13,  1.25s/it]Best trial: 31. Best value: 0.1039:  41%|████      | 41/100 [00:41<01:13,  1.25s/it]Best trial: 31. Best value: 0.1039:  42%|████▏     | 42/100 [00:41<00:49,  1.17it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  42%|████▏     | 42/100 [00:41<00:49,  1.17it/s]Best trial: 31. Best value: 0.1039:  42%|████▏     | 42/100 [00:41<00:49,  1.17it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  43%|████▎     | 43/100 [00:45<00:48,  1.17it/s]Best trial: 31. Best value: 0.1039:  43%|████▎     | 43/100 [00:45<00:48,  1.17it/s]Best trial: 31. Best value: 0.1039:  44%|████▍     | 44/100 [00:45<01:08,  1.23s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  44%|████▍     | 44/100 [00:45<01:08,  1.23s/it]Best trial: 31. Best value: 0.1039:  44%|████▍     | 44/100 [00:45<01:08,  1.23s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  45%|████▌     | 45/100 [00:45<01:07,  1.23s/it]Best trial: 31. Best value: 0.1039:  45%|████▌     | 45/100 [00:45<01:07,  1.23s/it]Best trial: 31. Best value: 0.1039:  46%|████▌     | 46/100 [00:45<00:46,  1.16it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  46%|████▌     | 46/100 [00:46<00:46,  1.16it/s]Best trial: 31. Best value: 0.1039:  46%|████▌     | 46/100 [00:46<00:46,  1.16it/s]Best trial: 31. Best value: 0.1039:  47%|████▋     | 47/100 [00:46<00:38,  1.38it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  47%|████▋     | 47/100 [00:50<00:38,  1.38it/s]Best trial: 31. Best value: 0.1039:  47%|████▋     | 47/100 [00:50<00:38,  1.38it/s]Best trial: 31. Best value: 0.1039:  48%|████▊     | 48/100 [00:50<01:12,  1.40s/it]                                                                                    Best trial: 31. Best value: 0.1039:  48%|████▊     | 48/100 [00:50<01:12,  1.40s/it]Best trial: 31. Best value: 0.1039:  48%|████▊     | 48/100 [00:50<01:12,  1.40s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  49%|████▉     | 49/100 [00:50<01:11,  1.40s/it]Best trial: 31. Best value: 0.1039:  49%|████▉     | 49/100 [00:50<01:11,  1.40s/it]                                                                                    Best trial: 31. Best value: 0.1039:  50%|█████     | 50/100 [00:50<01:09,  1.40s/it]Best trial: 31. Best value: 0.1039:  50%|█████     | 50/100 [00:50<01:09,  1.40s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  51%|█████     | 51/100 [00:50<01:08,  1.40s/it]Best trial: 31. Best value: 0.1039:  51%|█████     | 51/100 [00:50<01:08,  1.40s/it]Best trial: 31. Best value: 0.1039:  52%|█████▏    | 52/100 [00:50<00:31,  1.52it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  52%|█████▏    | 52/100 [00:50<00:31,  1.52it/s]Best trial: 31. Best value: 0.1039:  52%|█████▏    | 52/100 [00:50<00:31,  1.52it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  53%|█████▎    | 53/100 [00:54<00:31,  1.52it/s]Best trial: 31. Best value: 0.1039:  53%|█████▎    | 53/100 [00:54<00:31,  1.52it/s]Best trial: 31. Best value: 0.1039:  54%|█████▍    | 54/100 [00:54<00:47,  1.04s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  54%|█████▍    | 54/100 [00:54<00:47,  1.04s/it]Best trial: 31. Best value: 0.1039:  54%|█████▍    | 54/100 [00:54<00:47,  1.04s/it]Best trial: 31. Best value: 0.1039:  55%|█████▌    | 55/100 [00:54<00:39,  1.14it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  55%|█████▌    | 55/100 [00:54<00:39,  1.14it/s]Best trial: 31. Best value: 0.1039:  55%|█████▌    | 55/100 [00:54<00:39,  1.14it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                      Trial 2: MRB=-0.0331% buy=0.55 sell=0.43
[I 2025-10-08 19:06:14,140] Trial 2 finished with value: -0.0331 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.4, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.35000000000000003, 'regularization': 0.011}. Best is trial 2 with value: -0.0331.
  Trial 0: MRB=-0.0331% buy=0.55 sell=0.43
[I 2025-10-08 19:06:14,147] Trial 0 finished with value: -0.0331 and parameters: {'h1_weight': 0.25, 'h5_weight': 0.5, 'bb_period': 10, 'bb_std_dev': 1.5, 'bb_proximity': 0.25, 'regularization': 0.026000000000000002}. Best is trial 2 with value: -0.0331.
[I 2025-10-08 19:06:14,148] Trial 5 finished with value: -999.0 and parameters: {'h1_weight': 0.45000000000000007, 'h5_weight': 0.5}. Best is trial 2 with value: -0.0331.
  Trial 1: MRB=-0.0331% buy=0.55 sell=0.43
[I 2025-10-08 19:06:14,152] Trial 1 finished with value: -0.0331 and parameters: {'h1_weight': 0.5, 'h5_weight': 0.25, 'bb_period': 30, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.026000000000000002}. Best is trial 2 with value: -0.0331.
  Trial 3: MRB=-0.0331% buy=0.55 sell=0.43
[I 2025-10-08 19:06:14,156] Trial 3 finished with value: -0.0331 and parameters: {'h1_weight': 0.30000000000000004, 'h5_weight': 0.45, 'bb_period': 15, 'bb_std_dev': 2.0, 'bb_proximity': 0.2, 'regularization': 0.031}. Best is trial 2 with value: -0.0331.
  Trial 4: MRB=-0.0187% buy=0.55 sell=0.43
[I 2025-10-08 19:06:18,300] Trial 4 finished with value: -0.0187 and parameters: {'h1_weight': 0.30000000000000004, 'h5_weight': 0.35000000000000003, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.021}. Best is trial 4 with value: -0.0187.
  Trial 6: MRB=-0.0187% buy=0.55 sell=0.43
[I 2025-10-08 19:06:18,301] Trial 6 finished with value: -0.0187 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.4, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.30000000000000004, 'regularization': 0.036000000000000004}. Best is trial 4 with value: -0.0187.
  Trial 7: MRB=-0.0187% buy=0.55 sell=0.43
[I 2025-10-08 19:06:18,310] Trial 7 finished with value: -0.0187 and parameters: {'h1_weight': 0.5, 'h5_weight': 0.35000000000000003, 'bb_period': 25, 'bb_std_dev': 2.0, 'bb_proximity': 0.2, 'regularization': 0.036000000000000004}. Best is trial 4 with value: -0.0187.
[I 2025-10-08 19:06:18,311] Trial 11 finished with value: -999.0 and parameters: {'h1_weight': 0.35, 'h5_weight': 0.7}. Best is trial 4 with value: -0.0187.
  Trial 8: MRB=-0.0187% buy=0.55 sell=0.43
[I 2025-10-08 19:06:18,318] Trial 8 finished with value: -0.0187 and parameters: {'h1_weight': 0.35, 'h5_weight': 0.35000000000000003, 'bb_period': 25, 'bb_std_dev': 2.5, 'bb_proximity': 0.2, 'regularization': 0.036000000000000004}. Best is trial 4 with value: -0.0187.
  Trial 10: MRB=-0.0433% buy=0.55 sell=0.43
[I 2025-10-08 19:06:22,515] Trial 10 finished with value: -0.0433 and parameters: {'h1_weight': 0.35, 'h5_weight': 0.25, 'bb_period': 15, 'bb_std_dev': 1.75, 'bb_proximity': 0.25, 'regularization': 0.046}. Best is trial 4 with value: -0.0187.
  Trial 9: MRB=-0.0433% buy=0.55 sell=0.43
[I 2025-10-08 19:06:22,527] Trial 9 finished with value: -0.0433 and parameters: {'h1_weight': 0.35, 'h5_weight': 0.35000000000000003, 'bb_period': 15, 'bb_std_dev': 2.25, 'bb_proximity': 0.4, 'regularization': 0.026000000000000002}. Best is trial 4 with value: -0.0187.
  Trial 12: MRB=-0.0433% buy=0.55 sell=0.43
[I 2025-10-08 19:06:22,532] Trial 12 finished with value: -0.0433 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.35000000000000003, 'bb_period': 10, 'bb_std_dev': 2.5, 'bb_proximity': 0.30000000000000004, 'regularization': 0.041}. Best is trial 4 with value: -0.0187.
  Trial 13: MRB=-0.0433% buy=0.55 sell=0.43
[I 2025-10-08 19:06:22,551] Trial 13 finished with value: -0.0433 and parameters: {'h1_weight': 0.6, 'h5_weight': 0.2, 'bb_period': 20, 'bb_std_dev': 2.5, 'bb_proximity': 0.4, 'regularization': 0.001}. Best is trial 4 with value: -0.0187.
  Trial 14: MRB=-0.0014% buy=0.55 sell=0.43
[I 2025-10-08 19:06:26,588] Trial 14 finished with value: -0.0014 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.5, 'bb_proximity': 0.4, 'regularization': 0.011}. Best is trial 14 with value: -0.0014.
  Trial 15: MRB=0.0000% buy=0.55 sell=0.43
[I 2025-10-08 19:06:26,609] Trial 15 finished with value: 0.0 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.65, 'bb_period': 30, 'bb_std_dev': 2.5, 'bb_proximity': 0.30000000000000004, 'regularization': 0.011}. Best is trial 15 with value: 0.0.
  Trial 17: MRB=0.0519% buy=0.55 sell=0.43
[I 2025-10-08 19:06:26,695] Trial 17 finished with value: 0.0519 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.016}. Best is trial 17 with value: 0.0519.
  Trial 16: MRB=0.0519% buy=0.55 sell=0.43
[I 2025-10-08 19:06:26,706] Trial 16 finished with value: 0.0519 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 17 with value: 0.0519.
  Trial 18: MRB=0.0079% buy=0.55 sell=0.43
[I 2025-10-08 19:06:30,729] Trial 18 finished with value: 0.0079 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.65, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.35000000000000003, 'regularization': 0.016}. Best is trial 17 with value: 0.0519.
  Trial 19: MRB=0.0000% buy=0.55 sell=0.43
[I 2025-10-08 19:06:30,821] Trial 19 finished with value: 0.0 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.65, 'bb_period': 25, 'bb_std_dev': 2.5, 'bb_proximity': 0.35000000000000003, 'regularization': 0.011}. Best is trial 17 with value: 0.0519.
  Trial 20: MRB=0.0000% buy=0.55 sell=0.43
[I 2025-10-08 19:06:30,826] Trial 20 finished with value: 0.0 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.7, 'bb_period': 25, 'bb_std_dev': 2.25, 'bb_proximity': 0.35000000000000003, 'regularization': 0.016}. Best is trial 17 with value: 0.0519.
  Trial 21: MRB=0.0441% buy=0.55 sell=0.43
[I 2025-10-08 19:06:30,919] Trial 21 finished with value: 0.0441 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.6000000000000001, 'bb_period': 25, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.001}. Best is trial 17 with value: 0.0519.
  Trial 22: MRB=0.0032% buy=0.55 sell=0.43
[I 2025-10-08 19:06:34,894] Trial 22 finished with value: 0.0032 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.55, 'bb_period': 25, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.001}. Best is trial 17 with value: 0.0519.
  Trial 23: MRB=0.0032% buy=0.55 sell=0.43
[I 2025-10-08 19:06:34,997] Trial 23 finished with value: 0.0032 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.55, 'bb_period': 25, 'bb_std_dev': 2.0, 'bb_proximity': 0.25, 'regularization': 0.001}. Best is trial 17 with value: 0.0519.
  Trial 24: MRB=0.0032% buy=0.55 sell=0.43
[I 2025-10-08 19:06:35,007] Trial 24 finished with value: 0.0032 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.55, 'bb_period': 25, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.001}. Best is trial 17 with value: 0.0519.
  Trial 25: MRB=-0.0241% buy=0.55 sell=0.43
[I 2025-10-08 19:06:35,092] Trial 25 finished with value: -0.0241 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.55, 'bb_period': 25, 'bb_std_dev': 2.0, 'bb_proximity': 0.25, 'regularization': 0.001}. Best is trial 17 with value: 0.0519.
[ERROR] Analysis failed: Error: No trades loaded

  Trial 26: MRB=-999.0000% buy=0.55 sell=0.43
[I 2025-10-08 19:06:39,094] Trial 26 finished with value: -999.0 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.55, 'bb_period': 25, 'bb_std_dev': 2.0, 'bb_proximity': 0.25, 'regularization': 0.006}. Best is trial 17 with value: 0.0519.
[ERROR] Analysis failed: Error: No trades loaded

  Trial 28: MRB=-999.0000% buy=0.55 sell=0.43
[I 2025-10-08 19:06:39,115] Trial 28 finished with value: -999.0 and parameters: {'h1_weight': 0.25, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.0, 'bb_proximity': 0.2, 'regularization': 0.006}. Best is trial 17 with value: 0.0519.Best trial: 31. Best value: 0.1039:  56%|█████▌    | 56/100 [00:54<00:38,  1.14it/s]Best trial: 31. Best value: 0.1039:  56%|█████▌    | 56/100 [00:54<00:38,  1.14it/s]Best trial: 31. Best value: 0.1039:  57%|█████▋    | 57/100 [00:54<00:27,  1.58it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  57%|█████▋    | 57/100 [00:58<00:27,  1.58it/s]Best trial: 31. Best value: 0.1039:  57%|█████▋    | 57/100 [00:58<00:27,  1.58it/s]Best trial: 31. Best value: 0.1039:  58%|█████▊    | 58/100 [00:58<00:52,  1.24s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  58%|█████▊    | 58/100 [00:58<00:52,  1.24s/it]Best trial: 31. Best value: 0.1039:  58%|█████▊    | 58/100 [00:58<00:52,  1.24s/it]Best trial: 31. Best value: 0.1039:  59%|█████▉    | 59/100 [00:58<00:41,  1.00s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  59%|█████▉    | 59/100 [00:58<00:41,  1.00s/it]Best trial: 31. Best value: 0.1039:  59%|█████▉    | 59/100 [00:58<00:41,  1.00s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  60%|██████    | 60/100 [00:58<00:40,  1.00s/it]Best trial: 31. Best value: 0.1039:  60%|██████    | 60/100 [00:58<00:40,  1.00s/it]Best trial: 31. Best value: 0.1039:  61%|██████    | 61/100 [00:58<00:26,  1.49it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  61%|██████    | 61/100 [01:02<00:26,  1.49it/s]Best trial: 31. Best value: 0.1039:  61%|██████    | 61/100 [01:02<00:26,  1.49it/s]Best trial: 31. Best value: 0.1039:  62%|██████▏   | 62/100 [01:02<00:51,  1.34s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  62%|██████▏   | 62/100 [01:02<00:51,  1.34s/it]Best trial: 31. Best value: 0.1039:  62%|██████▏   | 62/100 [01:02<00:51,  1.34s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  63%|██████▎   | 63/100 [01:02<00:49,  1.34s/it]Best trial: 31. Best value: 0.1039:  63%|██████▎   | 63/100 [01:02<00:49,  1.34s/it]Best trial: 31. Best value: 0.1039:  64%|██████▍   | 64/100 [01:02<00:31,  1.15it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  64%|██████▍   | 64/100 [01:02<00:31,  1.15it/s]Best trial: 31. Best value: 0.1039:  64%|██████▍   | 64/100 [01:02<00:31,  1.15it/s]Best trial: 31. Best value: 0.1039:  65%|██████▌   | 65/100 [01:02<00:25,  1.38it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  65%|██████▌   | 65/100 [01:06<00:25,  1.38it/s]Best trial: 31. Best value: 0.1039:  65%|██████▌   | 65/100 [01:06<00:25,  1.38it/s]Best trial: 31. Best value: 0.1039:  66%|██████▌   | 66/100 [01:06<00:49,  1.46s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  66%|██████▌   | 66/100 [01:06<00:49,  1.46s/it]Best trial: 31. Best value: 0.1039:  66%|██████▌   | 66/100 [01:06<00:49,  1.46s/it]Best trial: 31. Best value: 0.1039:  67%|██████▋   | 67/100 [01:06<00:36,  1.12s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  67%|██████▋   | 67/100 [01:07<00:36,  1.12s/it]Best trial: 31. Best value: 0.1039:  67%|██████▋   | 67/100 [01:07<00:36,  1.12s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  68%|██████▊   | 68/100 [01:07<00:35,  1.12s/it]Best trial: 31. Best value: 0.1039:  68%|██████▊   | 68/100 [01:07<00:35,  1.12s/it]Best trial: 31. Best value: 0.1039:  69%|██████▉   | 69/100 [01:07<00:21,  1.41it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  69%|██████▉   | 69/100 [01:11<00:21,  1.41it/s]Best trial: 31. Best value: 0.1039:  69%|██████▉   | 69/100 [01:11<00:21,  1.41it/s]Best trial: 31. Best value: 0.1039:  70%|███████   | 70/100 [01:11<00:42,  1.42s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  70%|███████   | 70/100 [01:11<00:42,  1.42s/it]Best trial: 31. Best value: 0.1039:  70%|███████   | 70/100 [01:11<00:42,  1.42s/it]Best trial: 31. Best value: 0.1039:  71%|███████   | 71/100 [01:11<00:31,  1.09s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  71%|███████   | 71/100 [01:11<00:31,  1.09s/it]Best trial: 31. Best value: 0.1039:  71%|███████   | 71/100 [01:11<00:31,  1.09s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  72%|███████▏  | 72/100 [01:11<00:30,  1.09s/it]Best trial: 31. Best value: 0.1039:  72%|███████▏  | 72/100 [01:11<00:30,  1.09s/it]Best trial: 31. Best value: 0.1039:  73%|███████▎  | 73/100 [01:11<00:18,  1.43it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  73%|███████▎  | 73/100 [01:15<00:18,  1.43it/s]Best trial: 31. Best value: 0.1039:  73%|███████▎  | 73/100 [01:15<00:18,  1.43it/s]Best trial: 31. Best value: 0.1039:  74%|███████▍  | 74/100 [01:15<00:36,  1.41s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  74%|███████▍  | 74/100 [01:15<00:36,  1.41s/it]Best trial: 31. Best value: 0.1039:  74%|███████▍  | 74/100 [01:15<00:36,  1.41s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  75%|███████▌  | 75/100 [01:15<00:35,  1.41s/it]Best trial: 31. Best value: 0.1039:  75%|███████▌  | 75/100 [01:15<00:35,  1.41s/it]Best trial: 31. Best value: 0.1039:  76%|███████▌  | 76/100 [01:15<00:21,  1.12it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  76%|███████▌  | 76/100 [01:15<00:21,  1.12it/s]Best trial: 31. Best value: 0.1039:  76%|███████▌  | 76/100 [01:15<00:21,  1.12it/s]Best trial: 31. Best value: 0.1039:  77%|███████▋  | 77/100 [01:15<00:17,  1.35it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  77%|███████▋  | 77/100 [01:19<00:17,  1.35it/s]Best trial: 31. Best value: 0.1039:  77%|███████▋  | 77/100 [01:19<00:17,  1.35it/s]Best trial: 31. Best value: 0.1039:  78%|███████▊  | 78/100 [01:19<00:32,  1.47s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  78%|███████▊  | 78/100 [01:19<00:32,  1.47s/it]Best trial: 31. Best value: 0.1039:  78%|███████▊  | 78/100 [01:19<00:32,  1.47s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  79%|███████▉  | 79/100 [01:19<00:30,  1.47s/it]Best trial: 31. Best value: 0.1039:  79%|███████▉  | 79/100 [01:19<00:30,  1.47s/it]Best trial: 31. Best value: 0.1039:  80%|████████  | 80/100 [01:19<00:18,  1.09it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  80%|████████  | 80/100 [01:19<00:18,  1.09it/s]Best trial: 31. Best value: 0.1039:  80%|████████  | 80/100 [01:19<00:18,  1.09it/s]Best trial: 31. Best value: 0.1039:  81%|████████  | 81/100 [01:19<00:14,  1.32it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  81%|████████  | 81/100 [01:23<00:14,  1.32it/s]Best trial: 31. Best value: 0.1039:  81%|████████  | 81/100 [01:23<00:14,  1.32it/s]Best trial: 31. Best value: 0.1039:  82%|████████▏ | 82/100 [01:23<00:27,  1.50s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  82%|████████▏ | 82/100 [01:23<00:27,  1.50s/it]Best trial: 31. Best value: 0.1039:  82%|████████▏ | 82/100 [01:23<00:27,  1.50s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  83%|████████▎ | 83/100 [01:23<00:25,  1.50s/it]Best trial: 31. Best value: 0.1039:  83%|████████▎ | 83/100 [01:23<00:25,  1.50s/it]Best trial: 31. Best value: 0.1039:  84%|████████▍ | 84/100 [01:23<00:14,  1.08it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    
  Trial 27: MRB=0.0146% buy=0.55 sell=0.43
[I 2025-10-08 19:06:39,205] Trial 27 finished with value: 0.0146 and parameters: {'h1_weight': 0.25, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.006}. Best is trial 17 with value: 0.0519.
  Trial 29: MRB=0.0646% buy=0.55 sell=0.43
[I 2025-10-08 19:06:39,289] Trial 29 finished with value: 0.0646 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.006}. Best is trial 29 with value: 0.0646.
  Trial 30: MRB=0.0020% buy=0.55 sell=0.43
[I 2025-10-08 19:06:43,184] Trial 30 finished with value: 0.002 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.006}. Best is trial 29 with value: 0.0646.
  Trial 31: MRB=0.1039% buy=0.55 sell=0.43
[I 2025-10-08 19:06:43,283] Trial 31 finished with value: 0.1039 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.25, 'bb_proximity': 0.30000000000000004, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 32: MRB=0.0254% buy=0.55 sell=0.43
[I 2025-10-08 19:06:43,385] Trial 32 finished with value: 0.0254 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.5, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.2, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 33: MRB=0.0254% buy=0.55 sell=0.43
[I 2025-10-08 19:06:43,478] Trial 33 finished with value: 0.0254 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.5, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.2, 'regularization': 0.021}. Best is trial 31 with value: 0.1039.
  Trial 34: MRB=0.0486% buy=0.55 sell=0.43
[I 2025-10-08 19:06:47,430] Trial 34 finished with value: 0.0486 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.5, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
[I 2025-10-08 19:06:47,433] Trial 38 finished with value: -999.0 and parameters: {'h1_weight': 0.30000000000000004, 'h5_weight': 0.65}. Best is trial 31 with value: 0.1039.
  Trial 35: MRB=-0.0244% buy=0.55 sell=0.43
[I 2025-10-08 19:06:47,527] Trial 35 finished with value: -0.0244 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.5, 'bb_period': 20, 'bb_std_dev': 1.5, 'bb_proximity': 0.30000000000000004, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 36: MRB=-0.0244% buy=0.55 sell=0.43
[I 2025-10-08 19:06:47,614] Trial 36 finished with value: -0.0244 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.5, 'bb_period': 20, 'bb_std_dev': 1.5, 'bb_proximity': 0.30000000000000004, 'regularization': 0.021}. Best is trial 31 with value: 0.1039.
  Trial 37: MRB=0.0207% buy=0.55 sell=0.43
[I 2025-10-08 19:06:47,735] Trial 37 finished with value: 0.0207 and parameters: {'h1_weight': 0.25, 'h5_weight': 0.65, 'bb_period': 30, 'bb_std_dev': 1.5, 'bb_proximity': 0.30000000000000004, 'regularization': 0.021}. Best is trial 31 with value: 0.1039.
  Trial 39: MRB=0.0127% buy=0.55 sell=0.43
[I 2025-10-08 19:06:51,630] Trial 39 finished with value: 0.0127 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.7, 'bb_period': 30, 'bb_std_dev': 1.5, 'bb_proximity': 0.30000000000000004, 'regularization': 0.021}. Best is trial 31 with value: 0.1039.
  Trial 40: MRB=-0.0042% buy=0.55 sell=0.43
[I 2025-10-08 19:06:51,721] Trial 40 finished with value: -0.0042 and parameters: {'h1_weight': 0.25, 'h5_weight': 0.45, 'bb_period': 30, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 41: MRB=-0.0042% buy=0.55 sell=0.43
[I 2025-10-08 19:06:51,806] Trial 41 finished with value: -0.0042 and parameters: {'h1_weight': 0.25, 'h5_weight': 0.45, 'bb_period': 30, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 42: MRB=-0.0041% buy=0.55 sell=0.43
[I 2025-10-08 19:06:51,906] Trial 42 finished with value: -0.0041 and parameters: {'h1_weight': 0.45000000000000007, 'h5_weight': 0.45, 'bb_period': 10, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 43: MRB=-0.0209% buy=0.55 sell=0.43
[I 2025-10-08 19:06:55,800] Trial 43 finished with value: -0.0209 and parameters: {'h1_weight': 0.30000000000000004, 'h5_weight': 0.45, 'bb_period': 15, 'bb_std_dev': 2.0, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 44: MRB=0.0503% buy=0.55 sell=0.43
[I 2025-10-08 19:06:55,886] Trial 44 finished with value: 0.0503 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.45, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 45: MRB=0.0482% buy=0.55 sell=0.43
[I 2025-10-08 19:06:55,984] Trial 45 finished with value: 0.0482 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 46: MRB=0.0482% buy=0.55 sell=0.43
[I 2025-10-08 19:06:56,102] Trial 46 finished with value: 0.0482 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 47: MRB=0.0482% buy=0.55 sell=0.43
[I 2025-10-08 19:07:00,017] Trial 47 finished with value: 0.0482 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
[I 2025-10-08 19:07:00,020] Trial 51 finished with value: -999.0 and parameters: {'h1_weight': 0.55, 'h5_weight': 0.4}. Best is trial 31 with value: 0.1039.
  Trial 48: MRB=0.0211% buy=0.55 sell=0.43
[I 2025-10-08 19:07:00,108] Trial 48 finished with value: 0.0211 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.4, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.026000000000000002}. Best is trial 31 with value: 0.1039.
[I 2025-10-08 19:07:00,111] Trial 53 finished with value: -999.0 and parameters: {'h1_weight': 0.4, 'h5_weight': 0.65}. Best is trial 31 with value: 0.1039.
  Trial 49: MRB=-0.0218% buy=0.55 sell=0.43
[I 2025-10-08 19:07:00,201] Trial 49 finished with value: -0.0218 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.55, 'bb_period': 15, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.026000000000000002}. Best is trial 31 with value: 0.1039.
  Trial 50: MRB=-0.0697% buy=0.55 sell=0.43
[I 2025-10-08 19:07:00,323] Trial 50 finished with value: -0.0697 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.4, 'bb_period': 15, 'bb_std_dev': 2.5, 'bb_proximity': 0.2, 'regularization': 0.031}. Best is trial 31 with value: 0.1039.
  Trial 52: MRB=0.0475% buy=0.55 sell=0.43
[I 2025-10-08 19:07:04,200] Trial 52 finished with value: 0.0475 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.30000000000000004, 'bb_period': 30, 'bb_std_dev': 2.5, 'bb_proximity': 0.25, 'regularization': 0.026000000000000002}. Best is trial 31 with value: 0.1039.
  Trial 54: MRB=0.0415% buy=0.55 sell=0.43
[I 2025-10-08 19:07:04,307] Trial 54 finished with value: 0.0415 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.55, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 55: MRB=-0.0075% buy=0.55 sell=0.43
[I 2025-10-08 19:07:04,392] Trial 55 finished with value: -0.0075 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.30000000000000004, 'bb_period': 30, 'bb_std_dev': 2.5, 'bb_proximity': 0.2, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 56: MRB=0.0323% buy=0.55 sell=0.43
[I 2025-10-08 19:07:04,535] Trial 56 finished with value: 0.0323 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.7, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.Best trial: 31. Best value: 0.1039:  84%|████████▍ | 84/100 [01:24<00:14,  1.08it/s]Best trial: 31. Best value: 0.1039:  84%|████████▍ | 84/100 [01:24<00:14,  1.08it/s]Best trial: 31. Best value: 0.1039:  85%|████████▌ | 85/100 [01:24<00:11,  1.30it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  85%|████████▌ | 85/100 [01:27<00:11,  1.30it/s]Best trial: 31. Best value: 0.1039:  85%|████████▌ | 85/100 [01:27<00:11,  1.30it/s]Best trial: 31. Best value: 0.1039:  86%|████████▌ | 86/100 [01:27<00:20,  1.50s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  86%|████████▌ | 86/100 [01:27<00:20,  1.50s/it]Best trial: 31. Best value: 0.1039:  86%|████████▌ | 86/100 [01:27<00:20,  1.50s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  87%|████████▋ | 87/100 [01:28<00:19,  1.50s/it]Best trial: 31. Best value: 0.1039:  87%|████████▋ | 87/100 [01:28<00:19,  1.50s/it]Best trial: 31. Best value: 0.1039:  88%|████████▊ | 88/100 [01:28<00:11,  1.08it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  88%|████████▊ | 88/100 [01:28<00:11,  1.08it/s]Best trial: 31. Best value: 0.1039:  88%|████████▊ | 88/100 [01:28<00:11,  1.08it/s]Best trial: 31. Best value: 0.1039:  89%|████████▉ | 89/100 [01:28<00:08,  1.30it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  89%|████████▉ | 89/100 [01:32<00:08,  1.30it/s]Best trial: 31. Best value: 0.1039:  89%|████████▉ | 89/100 [01:32<00:08,  1.30it/s]Best trial: 31. Best value: 0.1039:  90%|█████████ | 90/100 [01:32<00:15,  1.50s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  90%|█████████ | 90/100 [01:32<00:15,  1.50s/it]Best trial: 31. Best value: 0.1039:  90%|█████████ | 90/100 [01:32<00:15,  1.50s/it]                                                                                    Best trial: 31. Best value: 0.1039:  91%|█████████ | 91/100 [01:32<00:13,  1.50s/it]Best trial: 31. Best value: 0.1039:  91%|█████████ | 91/100 [01:32<00:13,  1.50s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  92%|█████████▏| 92/100 [01:32<00:12,  1.50s/it]Best trial: 31. Best value: 0.1039:  92%|█████████▏| 92/100 [01:32<00:12,  1.50s/it]Best trial: 31. Best value: 0.1039:  93%|█████████▎| 93/100 [01:32<00:05,  1.30it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  93%|█████████▎| 93/100 [01:32<00:05,  1.30it/s]Best trial: 31. Best value: 0.1039:  93%|█████████▎| 93/100 [01:32<00:05,  1.30it/s]Best trial: 31. Best value: 0.1039:  94%|█████████▍| 94/100 [01:32<00:04,  1.49it/s]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  94%|█████████▍| 94/100 [01:36<00:04,  1.49it/s]Best trial: 31. Best value: 0.1039:  94%|█████████▍| 94/100 [01:36<00:04,  1.49it/s]Best trial: 31. Best value: 0.1039:  95%|█████████▌| 95/100 [01:36<00:06,  1.34s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  95%|█████████▌| 95/100 [01:36<00:06,  1.34s/it]Best trial: 31. Best value: 0.1039:  95%|█████████▌| 95/100 [01:36<00:06,  1.34s/it]/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/optuna/distributions.py:687: UserWarning: The distribution is specified by [0.001, 0.05] and step=0.005, but the range is not divisible by `step`. It will be replaced by [0.001, 0.046].
  warnings.warn(
                                                                                    Best trial: 31. Best value: 0.1039:  96%|█████████▌| 96/100 [01:36<00:05,  1.34s/it]Best trial: 31. Best value: 0.1039:  96%|█████████▌| 96/100 [01:36<00:05,  1.34s/it]Best trial: 31. Best value: 0.1039:  97%|█████████▋| 97/100 [01:36<00:02,  1.16it/s]                                                                                    Best trial: 31. Best value: 0.1039:  97%|█████████▋| 97/100 [01:36<00:02,  1.16it/s]Best trial: 31. Best value: 0.1039:  97%|█████████▋| 97/100 [01:36<00:02,  1.16it/s]Best trial: 31. Best value: 0.1039:  98%|█████████▊| 98/100 [01:36<00:01,  1.37it/s]                                                                                    Best trial: 31. Best value: 0.1039:  98%|█████████▊| 98/100 [01:40<00:01,  1.37it/s]Best trial: 31. Best value: 0.1039:  98%|█████████▊| 98/100 [01:40<00:01,  1.37it/s]Best trial: 31. Best value: 0.1039:  99%|█████████▉| 99/100 [01:40<00:01,  1.43s/it]                                                                                    Best trial: 31. Best value: 0.1039:  99%|█████████▉| 99/100 [01:40<00:01,  1.43s/it]Best trial: 31. Best value: 0.1039:  99%|█████████▉| 99/100 [01:40<00:01,  1.43s/it]Best trial: 31. Best value: 0.1039: 100%|██████████| 100/100 [01:40<00:00,  1.00s/it]

  Trial 57: MRB=-0.0381% buy=0.55 sell=0.43
[I 2025-10-08 19:07:08,424] Trial 57 finished with value: -0.0381 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.55, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.35000000000000003, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 58: MRB=0.0117% buy=0.55 sell=0.43
[I 2025-10-08 19:07:08,526] Trial 58 finished with value: 0.0117 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.7, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.35000000000000003, 'regularization': 0.021}. Best is trial 31 with value: 0.1039.
  Trial 59: MRB=0.0117% buy=0.55 sell=0.43
[I 2025-10-08 19:07:08,618] Trial 59 finished with value: 0.0117 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.7, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.35000000000000003, 'regularization': 0.021}. Best is trial 31 with value: 0.1039.
  Trial 60: MRB=0.0193% buy=0.55 sell=0.43
[I 2025-10-08 19:07:08,775] Trial 60 finished with value: 0.0193 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.5, 'bb_period': 25, 'bb_std_dev': 2.25, 'bb_proximity': 0.35000000000000003, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 61: MRB=0.0362% buy=0.55 sell=0.43
[I 2025-10-08 19:07:12,617] Trial 61 finished with value: 0.0362 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.5, 'bb_period': 25, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.021}. Best is trial 31 with value: 0.1039.
  Trial 62: MRB=-0.0282% buy=0.55 sell=0.43
[I 2025-10-08 19:07:12,716] Trial 62 finished with value: -0.0282 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.65, 'bb_period': 25, 'bb_std_dev': 2.5, 'bb_proximity': 0.25, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 63: MRB=-0.0282% buy=0.55 sell=0.43
[I 2025-10-08 19:07:12,800] Trial 63 finished with value: -0.0282 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.65, 'bb_period': 25, 'bb_std_dev': 2.5, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 64: MRB=0.0728% buy=0.55 sell=0.43
[I 2025-10-08 19:07:12,973] Trial 64 finished with value: 0.0728 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 65: MRB=0.0286% buy=0.55 sell=0.43
[I 2025-10-08 19:07:16,848] Trial 65 finished with value: 0.0286 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 66: MRB=0.0488% buy=0.55 sell=0.43
[I 2025-10-08 19:07:16,959] Trial 66 finished with value: 0.0488 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 67: MRB=0.0482% buy=0.55 sell=0.43
[I 2025-10-08 19:07:17,030] Trial 67 finished with value: 0.0482 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.2, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 68: MRB=0.0728% buy=0.55 sell=0.43
[I 2025-10-08 19:07:17,214] Trial 68 finished with value: 0.0728 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.6000000000000001, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.016}. Best is trial 31 with value: 0.1039.
  Trial 69: MRB=-0.0356% buy=0.55 sell=0.43
[I 2025-10-08 19:07:21,012] Trial 69 finished with value: -0.0356 and parameters: {'h1_weight': 0.1, 'h5_weight': 0.55, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 70: MRB=0.0608% buy=0.55 sell=0.43
[I 2025-10-08 19:07:21,121] Trial 70 finished with value: 0.0608 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.55, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 71: MRB=0.0282% buy=0.55 sell=0.43
[I 2025-10-08 19:07:21,202] Trial 71 finished with value: 0.0282 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 72: MRB=0.0282% buy=0.55 sell=0.43
[I 2025-10-08 19:07:21,403] Trial 72 finished with value: 0.0282 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 73: MRB=0.0505% buy=0.55 sell=0.43
[I 2025-10-08 19:07:25,223] Trial 73 finished with value: 0.0505 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.65, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 74: MRB=0.0318% buy=0.55 sell=0.43
[I 2025-10-08 19:07:25,323] Trial 74 finished with value: 0.0318 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.65, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 75: MRB=0.0318% buy=0.55 sell=0.43
[I 2025-10-08 19:07:25,410] Trial 75 finished with value: 0.0318 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.65, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 76: MRB=0.0318% buy=0.55 sell=0.43
[I 2025-10-08 19:07:25,626] Trial 76 finished with value: 0.0318 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.65, 'bb_period': 30, 'bb_std_dev': 2.25, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 77: MRB=0.0505% buy=0.55 sell=0.43
[I 2025-10-08 19:07:29,423] Trial 77 finished with value: 0.0505 and parameters: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.65, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.25, 'regularization': 0.011}. Best is trial 31 with value: 0.1039.
  Trial 78: MRB=0.0032% buy=0.55 sell=0.43
[I 2025-10-08 19:07:29,500] Trial 78 finished with value: 0.0032 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.65, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.25, 'regularization': 0.046}. Best is trial 31 with value: 0.1039.
  Trial 79: MRB=0.0764% buy=0.55 sell=0.43
[I 2025-10-08 19:07:29,617] Trial 79 finished with value: 0.0764 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.25, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 80: MRB=0.0764% buy=0.55 sell=0.43
[I 2025-10-08 19:07:29,833] Trial 80 finished with value: 0.0764 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.25, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 81: MRB=0.0466% buy=0.55 sell=0.43
[I 2025-10-08 19:07:33,656] Trial 81 finished with value: 0.0466 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 82: MRB=0.0604% buy=0.55 sell=0.43
[I 2025-10-08 19:07:33,738] Trial 82 finished with value: 0.0604 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 83: MRB=0.0338% buy=0.55 sell=0.43
[I 2025-10-08 19:07:33,857] Trial 83 finished with value: 0.0338 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.6000000000000001, 'bb_period': 15, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 84: MRB=0.0604% buy=0.55 sell=0.43
[I 2025-10-08 19:07:34,082] Trial 84 finished with value: 0.0604 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 85: MRB=0.0764% buy=0.55 sell=0.43
[I 2025-10-08 19:07:37,837] Trial 85 finished with value: 0.0764 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.25, 'regularization': 0.001}. Best is trial 31 with value: 0.1039.
  Trial 86: MRB=0.0339% buy=0.55 sell=0.43
[I 2025-10-08 19:07:37,921] Trial 86 finished with value: 0.0339 and parameters: {'h1_weight': 0.25, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.001}. Best is trial 31 with value: 0.1039.
  Trial 87: MRB=0.0489% buy=0.55 sell=0.43
[I 2025-10-08 19:07:38,043] Trial 87 finished with value: 0.0489 and parameters: {'h1_weight': 0.25, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.30000000000000004, 'regularization': 0.001}. Best is trial 31 with value: 0.1039.
  Trial 88: MRB=0.0339% buy=0.55 sell=0.43
[I 2025-10-08 19:07:38,273] Trial 88 finished with value: 0.0339 and parameters: {'h1_weight': 0.25, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.001}. Best is trial 31 with value: 0.1039.
  Trial 89: MRB=0.0339% buy=0.55 sell=0.43
[I 2025-10-08 19:07:42,051] Trial 89 finished with value: 0.0339 and parameters: {'h1_weight': 0.25, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.30000000000000004, 'regularization': 0.001}. Best is trial 31 with value: 0.1039.
  Trial 90: MRB=0.0728% buy=0.55 sell=0.43
[I 2025-10-08 19:07:42,142] Trial 90 finished with value: 0.0728 and parameters: {'h1_weight': 0.30000000000000004, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.25, 'regularization': 0.001}. Best is trial 31 with value: 0.1039.
[I 2025-10-08 19:07:42,146] Trial 94 finished with value: -999.0 and parameters: {'h1_weight': 0.4, 'h5_weight': 0.55}. Best is trial 31 with value: 0.1039.
  Trial 91: MRB=-0.0465% buy=0.55 sell=0.43
[I 2025-10-08 19:07:42,264] Trial 91 finished with value: -0.0465 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 2.0, 'bb_proximity': 0.4, 'regularization': 0.001}. Best is trial 31 with value: 0.1039.
  Trial 92: MRB=0.0038% buy=0.55 sell=0.43
[I 2025-10-08 19:07:42,524] Trial 92 finished with value: 0.0038 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.25, 'regularization': 0.001}. Best is trial 31 with value: 0.1039.
  Trial 93: MRB=0.0728% buy=0.55 sell=0.43
[I 2025-10-08 19:07:46,232] Trial 93 finished with value: 0.0728 and parameters: {'h1_weight': 0.30000000000000004, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.25, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 95: MRB=0.0038% buy=0.55 sell=0.43
[I 2025-10-08 19:07:46,318] Trial 95 finished with value: 0.0038 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.25, 'regularization': 0.001}. Best is trial 31 with value: 0.1039.
  Trial 96: MRB=0.0728% buy=0.55 sell=0.43
[I 2025-10-08 19:07:46,441] Trial 96 finished with value: 0.0728 and parameters: {'h1_weight': 0.30000000000000004, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.25, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 97: MRB=0.0038% buy=0.55 sell=0.43
[I 2025-10-08 19:07:46,701] Trial 97 finished with value: 0.0038 and parameters: {'h1_weight': 0.2, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.25, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 98: MRB=0.0676% buy=0.55 sell=0.43
[I 2025-10-08 19:07:50,401] Trial 98 finished with value: 0.0676 and parameters: {'h1_weight': 0.30000000000000004, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.25, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
  Trial 99: MRB=0.0728% buy=0.55 sell=0.43
[I 2025-10-08 19:07:50,475] Trial 99 finished with value: 0.0728 and parameters: {'h1_weight': 0.30000000000000004, 'h5_weight': 0.55, 'bb_period': 20, 'bb_std_dev': 1.75, 'bb_proximity': 0.25, 'regularization': 0.006}. Best is trial 31 with value: 0.1039.
[Tuning] Complete in 100.5s
[Tuning] Best MRB: 0.1039%
[Tuning] Best params: {'h1_weight': 0.15000000000000002, 'h5_weight': 0.6000000000000001, 'bb_period': 20, 'bb_std_dev': 2.25, 'bb_proximity': 0.30000000000000004, 'regularization': 0.016}

================================================================================
PHASE 2 COMPLETE!
================================================================================
Phase 1 MRB (4 blocks):    0.2200%
Phase 2 MRB (20 blocks):   0.1039%

⚠️  DEGRADATION: -52.8% (but still positive MRB)
   This is EXPECTED - 20 blocks harder than 4 blocks
   Phase 1 params optimized for recent data

Target: 0.5% MRB
Current: 0.1039% MRB
Gap: 0.3961%
Progress: 20.8% of target

Optimization time: 100.5s
================================================================================

Phase 2 best params:
  h1_weight: 0.15000000000000002
  h5_weight: 0.6000000000000001
  bb_period: 20
  bb_std_dev: 2.25
  bb_proximity: 0.30000000000000004
  regularization: 0.016

Results saved to: data/tmp/optuna_2phase_corrected/phase2_final_results.json

